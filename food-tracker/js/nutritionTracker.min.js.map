{"version":3,"sources":["js/namespace.js","js/templates.js","js/models/food.js","js/models/recipe.js","js/models/nutrition.js","js/models/autocomplete.js","js/collections/foodSearch.js","js/collections/recipeSearch.js","js/collections/nutritionTracker.js","js/collections/autocompleteSearch.js","js/views/startView.js","js/views/tabView.js","js/views/foodSearchView.js","js/views/recipeSearchView.js","js/views/nutritionView.js","js/views/nutritionTrackerView.js","js/views/nutritionEditorView.js","js/router.js","js/app.js"],"names":["nt","Models","Collections","Views","Router","Plugin","Option","preloader","Handlebars","registerPartial","template","1","container","depth0","helpers","partials","data","helper","escapeExpression","servingCount","helperMissing","call","name","hash","compiler","main","stack1","alias1","alias2","alias3","alias4","valueServingSize","valueServingSizeUnit","moreThanOne","fn","program","inverse","noop","useData","this","3","tracking","trackDate","itemName","valueCalories","valueTotalFat","valueTotalCarb","valueProteins","invokePartial","decorators","usePartial","id","calories","fat","carbs","protein","servingSize","servingUnit","each","items","recipeTitle","recipeImage","siteIcon","siteTitle","siteLink","numCalories","numIngredients","recipes","lambda","title","attributes","show","models","sumCals","sumFat","sumCarbs","sumProt","Food","Backbone","Model","extend","defaults","sortOrder","parse","response","fields","food","_id","item_name","nf_calories","nf_total_fat","nf_total_carbohydrate","nf_protein","nf_serving_size_qty","nf_serving_size_unit","Recipe","index","recipe","uri","indexOf","prefix","icon","sourceIcon","replace","slice","image","label","parseInt","ingredientLines","length","source","shareAs","Nutrition","width","showPolyFat","showMonoFat","showIngredients","valueFatCalories","valueSatFat","valueTransFat","valueCholesterol","valueSodium","valueFibers","valueSugars","valueVitaminA","valueVitaminC","valueCalcium","valueIron","url","hasOwnProperty","item_id","nf_calories_from_fat","nf_saturated_fat","nf_trans_fatty_acid","nf_cholesterol","nf_sodium","nf_dietary_fiber","nf_sugars","nf_vitamin_a_dv","nf_vitamin_c_dv","nf_calcium_dv","nf_iron_dv","validate","attrs","options","valid","moment","isValid","valueUpdate","num","keys","newListObj","_","pick","val","key","newVal","Number","isInteger","toFixed","set","Autocomplete","text","FoodSearch","Collection","model","searchPhrase","hits","nextOrder","last","get","comparator","RecipeSearch","sync","method","collection","dataType","NutritionTracker","localStorage","LocalStorage","initialize","trackerDate","Date","format","displayAll","getModelsByDate","groupArray","where","groupCollection","calculateSum","attribute","group","sum","reduce","memo","value","AutocompleteSearch","api","q","appId","appKey","apiError","errMsg","status","statusText","window","console","log","$","html","fetch","trigger","prototype","apply","arguments","Start","View","el","events","click .btn-success","showStart","$el","hide","hideStart","startSearch","Instance","TabNav","click","e","preventDefault","tab","eqHeights","child","Search","itemTemplate","Templates","item","click #search-help","click #search-help-text .close","click #search-clear","submit #search-suggest","bindAll","$searchTop","$searchResults","$searchFood","$help","$dropmenu","listenTo","searchFood","render","append","toJSON","toggleHelp","toggle","renderNoResults","msg","searchSuccess","total_hits","searchError","errorResponse","query","trim","parameters","results","reset","param","success","error","navigate","noSubmit","clearSearch","recipeTemplate","click #recipe-open","click #recipe-close","$recipeTop","$recipeResults","recipeSuccess","recipeError","getRecipes","app_id","app_key","to","openRecipes","closeRecipes","buttonsTemplate","buttons","click .item-nutrition","click #nutrition-close","click #nutrition-add","click #nutrition-remove","click #nutrition-track","$nutrition","$nutritionTop","$nutritionMenu","$nutritionResults","$nLabel","trackedItem","gchart","gformat","google","charts","load","packages","closeNutrition","updateView","displayMenu","displayChart","displayNutrition","showColumn","removeClass","hideColumn","addClass","openNutrition","elem","target","closest","css","checkItem","itemId","tracker","itemSuccess","getNutrition","removeAttr","find","itemError","itemID","clear","visualization","arrayToDataTable","height","backgroundColor","sliceVisibilityThreshold","notZero","parseFloat","NumberFormat","suffix","clearChart","PieChart","document","getElementById","draw","undelegate","nutritionLabel","isTracked","addFood","editorView","Editor","renderDatePicker","removeFood","destroy","foodAttributes","openTrackerView","Tracker","trackedTemplate","tracked","emptyMessage","emptyDate","click #dtBack","click #dtForward","click #dtDisplay","click .options a","click .tracked-delete","click .tracked-edit","registerHelper","$trackerResults","$dtp","duration","days","initDatePicker","date","SafeString","attributeValue","servings","showValue","isTracker","hasClass","renderAll","renderDate","datetimepicker","defaultDate","allowInputToggle","self","on","dateBack","currDate","backDate","subtract","dateForward","forwardDate","add","dateDisplay","setOption","attr","deleteFood","openFood","row","nutrition","tagName","className","editorTemplate","editor","count","click #foodSave","click #foodClose","click #servingIncrease","click #servingDecrease","createFood","prev","widgetPositioning","horizontal","renderError","message","removeError","remove","getFoodAttributes","userAttributes","saveFood","userAttr","notValid","validationError","create","merge","close","servingIncrease","servingDecrease","routes","start","search","search/:query","tracker/:display(/:date)","goto","isSearchOpen","optDisplay","optDate","isTrackerOpen","formattedDate","ready","suggest","Typeahead","setElement","tabs","history"],"mappings":"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","file":"js/nutritionTracker.min.js","sourcesContent":["/**! Food Tracker App\r\n * @namespace {object} nt */\r\n\r\n// Namespace everything in a `nt` object to prevent polluting the global namespace.\r\nvar nt = {\r\n    Models: {},\r\n    Collections: {},\r\n    Views: {},\r\n    Router: {},\r\n    Plugin: {},\r\n    Option: {},\r\n    preloader: '<div class=\"spinnerContainer\">Loading <div class=\"spinner\"></div> Please Wait'\r\n};\r\n","Handlebars.registerPartial(\"servings-partial\", Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \" Ã— \"\n    + container.escapeExpression(((helper = (helper = helpers.servingCount || (depth0 != null ? depth0.servingCount : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"servingCount\",\"hash\":{},\"data\":data}) : helper)));\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return alias4(((helper = (helper = helpers.valueServingSize || (depth0 != null ? depth0.valueServingSize : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"valueServingSize\",\"hash\":{},\"data\":data}) : helper)))\n    + \" \"\n    + alias4(((helper = (helper = helpers.valueServingSizeUnit || (depth0 != null ? depth0.valueServingSizeUnit : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"valueServingSizeUnit\",\"hash\":{},\"data\":data}) : helper)))\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.moreThanOne : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true}));\nthis[\"Handlebars\"] = this[\"Handlebars\"] || {};\nthis[\"Handlebars\"][\"Templates\"] = this[\"Handlebars\"][\"Templates\"] || {};\nthis[\"Handlebars\"][\"Templates\"][\"buttons\"] = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"        <p><button id=\\\"nutrition-track\\\" type=\\\"button\\\" class=\\\"btn btn-warning btn-xs btn-block\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-ok-circle\\\"></i> Tracking\\r\\n        </button></p>\\r\\n        <button id=\\\"nutrition-close\\\" type=\\\"button\\\" class=\\\"btn btn-primary btn-sm\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-arrow-left\\\"></i> Back\\r\\n        </button>\\r\\n        <button id=\\\"nutrition-add\\\" type=\\\"button\\\" class=\\\"btn btn-info btn-sm\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-pencil\\\"></i> Edit\\r\\n        </button>\\r\\n        <button id=\\\"nutrition-remove\\\" type=\\\"button\\\" class=\\\"btn btn-danger btn-sm\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-remove\\\"></i> Remove\\r\\n        </button>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"        <p><button type=\\\"button\\\" class=\\\"btn btn-default btn-xs btn-block\\\" disabled>\\r\\n        <i class=\\\"glyphicon glyphicon-ban-circle\\\"></i> Not Tracking\\r\\n        </button></p>\\r\\n        <button id=\\\"nutrition-close\\\" type=\\\"button\\\" class=\\\"btn btn-primary btn-sm\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-arrow-left\\\"></i> Back\\r\\n        </button>\\r\\n        <button id=\\\"nutrition-add\\\" type=\\\"button\\\" class=\\\"btn btn-success btn-sm\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-plus\\\"></i> Add\\r\\n        </button>\\r\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"    <div class=\\\"buttons\\\">\\r\\n\"\n    + ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.tracking : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"    </div>\";\n},\"useData\":true});\nthis[\"Handlebars\"][\"Templates\"][\"editor\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"    <div id=\\\"editor-top\\\">\\r\\n      <h3>Food Summary</h3>\\r\\n      <span id=\\\"foodClose\\\" class=\\\"glyphicon glyphicon-remove-circle\\\"></span>\\r\\n    </div>\\r\\n    <br>\\r\\n    <form>\\r\\n      <div class=\\\"input-group date\\\" id=\\\"dateTimePicker\\\">\\r\\n        <span class=\\\"input-group-addon\\\">Track Date</span>\\r\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"foodTrackDate\\\" value=\\\"\"\n    + alias4(((helper = (helper = helpers.trackDate || (depth0 != null ? depth0.trackDate : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"trackDate\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\r\\n        <span class=\\\"input-group-addon\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></span>\\r\\n      </div>\\r\\n      <br>\\r\\n      <div class=\\\"input-group\\\">\\r\\n        <span class=\\\"input-group-addon\\\">Name</span>\\r\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"foodName\\\" value=\\\"\"\n    + alias4(((helper = (helper = helpers.itemName || (depth0 != null ? depth0.itemName : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"itemName\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\r\\n      </div>\\r\\n      <br>\\r\\n      <div class=\\\"input-group\\\">\\r\\n        <span class=\\\"input-group-addon calories-addon\\\">Calories</span>\\r\\n        <input disabled type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"foodCalories\\\" value=\\\"\"\n    + alias4(((helper = (helper = helpers.valueCalories || (depth0 != null ? depth0.valueCalories : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"valueCalories\",\"hash\":{},\"data\":data}) : helper)))\n    + \" kcal\\\">\\r\\n      </div>\\r\\n      <br>\\r\\n      <div class=\\\"input-group\\\">\\r\\n        <span class=\\\"input-group-addon fat-addon\\\">Fat</span>\\r\\n        <input disabled type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"foodFat\\\" value=\\\"\"\n    + alias4(((helper = (helper = helpers.valueTotalFat || (depth0 != null ? depth0.valueTotalFat : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"valueTotalFat\",\"hash\":{},\"data\":data}) : helper)))\n    + \" g\\\">\\r\\n      </div>\\r\\n      <br>\\r\\n      <div class=\\\"input-group\\\">\\r\\n        <span class=\\\"input-group-addon carbs-addon\\\">Carbohydrates</span>\\r\\n        <input disabled type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"foodCarbs\\\" value=\\\"\"\n    + alias4(((helper = (helper = helpers.valueTotalCarb || (depth0 != null ? depth0.valueTotalCarb : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"valueTotalCarb\",\"hash\":{},\"data\":data}) : helper)))\n    + \" g\\\">\\r\\n      </div>\\r\\n      <br>\\r\\n      <div class=\\\"input-group\\\">\\r\\n        <span class=\\\"input-group-addon protein-addon\\\">Protein</span>\\r\\n        <input disabled type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"foodProtein\\\" value=\\\"\"\n    + alias4(((helper = (helper = helpers.valueProteins || (depth0 != null ? depth0.valueProteins : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"valueProteins\",\"hash\":{},\"data\":data}) : helper)))\n    + \" g\\\">\\r\\n      </div>\\r\\n      <br>\\r\\n      <div class=\\\"input-group\\\">\\r\\n        <span class=\\\"input-group-addon serving-addon\\\">Serving</span>\\r\\n        <input disabled type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"foodServingSize\\\" value=\\\"\"\n    + ((stack1 = container.invokePartial(partials[\"servings-partial\"],depth0,{\"name\":\"servings-partial\",\"data\":data,\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n        <input type=\\\"hidden\\\" id=\\\"foodServingCount\\\" value=\\\"\"\n    + alias4(((helper = (helper = helpers.servingCount || (depth0 != null ? depth0.servingCount : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"servingCount\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\r\\n        <span class=\\\"input-group-btn\\\">\\r\\n          <button id=\\\"servingIncrease\\\" class=\\\"btn\\\" type=\\\"button\\\"><i class=\\\"glyphicon glyphicon-triangle-top\\\"></i></button>\\r\\n          <button id=\\\"servingDecrease\\\" class=\\\"btn\\\" type=\\\"button\\\"><i class=\\\"glyphicon glyphicon-triangle-bottom\\\"></i></button>\\r\\n        </span>\\r\\n      </div>\\r\\n      <br>\\r\\n      <button id=\\\"foodSave\\\" type=\\\"submit\\\" class=\\\"btn btn-default btn-block\\\">Save Food</button>\\r\\n    </form>\";\n},\"usePartial\":true,\"useData\":true});\nthis[\"Handlebars\"][\"Templates\"][\"item\"] = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"    <div class=\\\"item\\\">\\r\\n      <h4><a class=\\\"item-nutrition\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" data-item=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></h4>\\r\\n      <h6>Cals: \"\n    + alias4(((helper = (helper = helpers.calories || (depth0 != null ? depth0.calories : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"calories\",\"hash\":{},\"data\":data}) : helper)))\n    + \" | Fat: \"\n    + alias4(((helper = (helper = helpers.fat || (depth0 != null ? depth0.fat : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"fat\",\"hash\":{},\"data\":data}) : helper)))\n    + \"g | Carbs: \"\n    + alias4(((helper = (helper = helpers.carbs || (depth0 != null ? depth0.carbs : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"carbs\",\"hash\":{},\"data\":data}) : helper)))\n    + \"g | Prot: \"\n    + alias4(((helper = (helper = helpers.protein || (depth0 != null ? depth0.protein : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"protein\",\"hash\":{},\"data\":data}) : helper)))\n    + \"g</h6>\\r\\n      <h6>Serving: \"\n    + alias4(((helper = (helper = helpers.servingSize || (depth0 != null ? depth0.servingSize : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"servingSize\",\"hash\":{},\"data\":data}) : helper)))\n    + \" \"\n    + alias4(((helper = (helper = helpers.servingUnit || (depth0 != null ? depth0.servingUnit : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"servingUnit\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h6>\\r\\n    </div>\\r\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"    <h4 id=\\\"recipe-open\\\">\\r\\n      <span class=\\\"label label-info\\\"><i class=\\\"glyphicon glyphicon-info-sign\\\"></i> Recipe Suggestions</span>\\r\\n    </h4>\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.items : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    <footer class=\\\"logo\\\">\\r\\n      <a href=\\\"http://www.nutritionix.com/api\\\" target=\\\"_blank\\\"><img src=\\\"images/nutritionix.png\\\" alt=\\\"Powered By Nutritionix\\\"></a>\\r\\n    </footer>\";\n},\"useData\":true});\nthis[\"Handlebars\"][\"Templates\"][\"recipe\"] = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"    <div class=\\\"recipe-item\\\">\\r\\n      <h4>\"\n    + alias4(((helper = (helper = helpers.recipeTitle || (depth0 != null ? depth0.recipeTitle : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"recipeTitle\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h4>\\r\\n      <div class=\\\"r-container\\\">\\r\\n        <div class=\\\"r-image\\\">\\r\\n          <img class=\\\"thumb\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.recipeImage || (depth0 != null ? depth0.recipeImage : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"recipeImage\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = helpers.recipeTitle || (depth0 != null ? depth0.recipeTitle : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"recipeTitle\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\r\\n        </div>\\r\\n        <div class=\\\"r-text\\\">\\r\\n          <img class=\\\"icon\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.siteIcon || (depth0 != null ? depth0.siteIcon : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"siteIcon\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = helpers.siteTitle || (depth0 != null ? depth0.siteTitle : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"siteTitle\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\r\\n          <a href=\\\"\"\n    + alias4(((helper = (helper = helpers.siteLink || (depth0 != null ? depth0.siteLink : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"siteLink\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" target=\\\"_blank\\\">\"\n    + alias4(((helper = (helper = helpers.siteTitle || (depth0 != null ? depth0.siteTitle : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"siteTitle\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a>\\r\\n          <h6>\"\n    + alias4(((helper = (helper = helpers.numCalories || (depth0 != null ? depth0.numCalories : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"numCalories\",\"hash\":{},\"data\":data}) : helper)))\n    + \" Calories Per Serving</h6>\\r\\n          <h6>\"\n    + alias4(((helper = (helper = helpers.numIngredients || (depth0 != null ? depth0.numIngredients : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"numIngredients\",\"hash\":{},\"data\":data}) : helper)))\n    + \" Ingredients</h6>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.recipes : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    <footer class=\\\"logo\\\">\\r\\n      <a href=\\\"https://thinkingjet.me\\\" target=\\\"_blank\\\"><img src=\\\"images/footer.png\\\" alt=\\\"Food Tracker\\\"></a>\\r\\n    </footer>\";\n},\"useData\":true});\nthis[\"Handlebars\"][\"Templates\"][\"search\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"  <div class=\\\"input-group\\\">\\r\\n    <input id=\\\"search-food\\\" type=\\\"search\\\" class=\\\"form-control\\\" placeholder=\\\"What did you eat?\\\">\\r\\n    <span class=\\\"input-group-btn\\\">\\r\\n      <button class=\\\"btn btn-default\\\" type=\\\"button\\\" id=\\\"search-clear\\\" title=\\\"Clear\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-remove-circle\\\"></i>\\r\\n      </button>\\r\\n    </span>\\r\\n  </div>\\r\\n  <ul class=\\\"dropdown-menu\\\"></ul>\";\n},\"useData\":true});\nthis[\"Handlebars\"][\"Templates\"][\"tracked\"] = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=container.escapeExpression, alias4=container.lambda;\n\n  return \"        <tr class=\\\"tracked-row\\\"\"\n    + alias3((helpers.title || (depth0 && depth0.title) || alias2).call(alias1,((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.trackDate : stack1),{\"name\":\"title\",\"hash\":{},\"data\":data}))\n    + \">\\r\\n          <td class=\\\"tracked-attr\\\"><a class=\\\"tracked-edit\\\" href=\\\"#edit\\\" data-item=\\\"\"\n    + alias3(alias4(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.id : stack1), depth0))\n    + \"\\\" title=\\\"\"\n    + alias3(alias4(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.itemName : stack1), depth0))\n    + \"\\\">\"\n    + alias3(alias4(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.itemName : stack1), depth0))\n    + \"</a></td>\\r\\n          <td class=\\\"tracked-attr\\\">\"\n    + alias3((helpers.show || (depth0 && depth0.show) || alias2).call(alias1,((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.valueCalories : stack1),{\"name\":\"show\",\"hash\":{},\"data\":data}))\n    + \"</td>\\r\\n          <td class=\\\"tracked-attr\\\">\"\n    + alias3((helpers.show || (depth0 && depth0.show) || alias2).call(alias1,((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.valueTotalFat : stack1),{\"name\":\"show\",\"hash\":{},\"data\":data}))\n    + \"</td>\\r\\n          <td class=\\\"tracked-attr\\\">\"\n    + alias3((helpers.show || (depth0 && depth0.show) || alias2).call(alias1,((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.valueTotalCarb : stack1),{\"name\":\"show\",\"hash\":{},\"data\":data}))\n    + \"</td>\\r\\n          <td class=\\\"tracked-attr\\\">\"\n    + alias3((helpers.show || (depth0 && depth0.show) || alias2).call(alias1,((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.valueProteins : stack1),{\"name\":\"show\",\"hash\":{},\"data\":data}))\n    + \"</td>\\r\\n          <td class=\\\"tracked-attr\\\"><i class=\\\"tracked-delete glyphicon glyphicon-remove\\\" data-id=\\\"\"\n    + alias3(alias4(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.id : stack1), depth0))\n    + \"\\\" title=\\\"Delete\\\"></i></td>\\r\\n        </tr>\\r\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"    <table class=\\\"tracked-item\\\">\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th class=\\\"tracked-first\\\">Food</th>\\r\\n          <th title=\\\"Calories\\\">Cals</th>\\r\\n          <th>Fat</th>\\r\\n          <th title=\\\"Carbohydrates\\\">Carbs</th>\\r\\n          <th title=\\\"Protein\\\">Prot</th>\\r\\n          <th class=\\\"tracked-last\\\"><i class=\\\"glyphicon glyphicon-remove\\\"></i></th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n\"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.models : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"      </tbody>\\r\\n      <tfoot>\\r\\n        <tr class=\\\"totals-row\\\">\\r\\n          <td class=\\\"totals-attr\\\">TOTALS</td>\\r\\n          <td class=\\\"totals-attr\\\">\"\n    + alias4(((helper = (helper = helpers.sumCals || (depth0 != null ? depth0.sumCals : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"sumCals\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\r\\n          <td class=\\\"totals-attr\\\">\"\n    + alias4(((helper = (helper = helpers.sumFat || (depth0 != null ? depth0.sumFat : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"sumFat\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\r\\n          <td class=\\\"totals-attr\\\">\"\n    + alias4(((helper = (helper = helpers.sumCarbs || (depth0 != null ? depth0.sumCarbs : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"sumCarbs\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\r\\n          <td class=\\\"totals-attr\\\" colspan=\\\"2\\\">\"\n    + alias4(((helper = (helper = helpers.sumProt || (depth0 != null ? depth0.sumProt : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"sumProt\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</td>\\r\\n        </tr>\\r\\n      </tfoot>\\r\\n    </table>\";\n},\"useData\":true});","/** Model for each food item tracked\r\n * @namespace nt.Models\r\n * @class nt.Models.Food\r\n * @memberof! <global>\r\n * @extends Backbone.Model */\r\nnt.Models.Food = Backbone.Model.extend(/** @lends nt.Models.Food# */{\r\n\r\n    /** Default attributes */\r\n    defaults: {\r\n        id: '',\r\n        sortOrder: 0,\r\n        name: '',\r\n        fat: 0,\r\n        carbs: 0,\r\n        protein: 0,\r\n        calories: 0,\r\n        servingSize: 0,\r\n        servingUnit: ''\r\n    },\r\n\r\n    /** Override parse and return response attributes */\r\n    parse: function(response) {\r\n    // reference: https://github.com/jashkenas/backbone/issues/1451#issuecomment-6547963\r\n\r\n        //  Only parse response if data from API\r\n        if (typeof response.fields != 'undefined') {\r\n        var food = {};\r\n            food.id          = response._id;\r\n            food.name        = response.fields.item_name;\r\n            food.calories    = response.fields.nf_calories;\r\n            food.fat         = response.fields.nf_total_fat;\r\n            food.carbs       = response.fields.nf_total_carbohydrate;\r\n            food.protein     = response.fields.nf_protein;\r\n            food.servingSize = response.fields.nf_serving_size_qty;\r\n            food.servingUnit = response.fields.nf_serving_size_unit;\r\n\r\n            return food;\r\n        } else\r\n            return response;\r\n\r\n    } // parse\r\n\r\n});","/** Model for recipe data\r\n * @namespace nt.Models\r\n * @class nt.Models.Recipe\r\n * @memberof! <global>\r\n * @extends Backbone.Model */\r\nnt.Models.Recipe = Backbone.Model.extend(/** @lends nt.Models.Recipe# */{\r\n\r\n    /** Default attributes */\r\n    defaults: {\r\n        id: '',\r\n        recipeImage: '',\r\n        recipeTitle: '',\r\n        numCalories: '',\r\n        numIngredients: '',\r\n        siteIcon: '',\r\n        siteTitle: '',\r\n        siteLink: ''\r\n    },\r\n\r\n    /** Override parse and return response attributes */\r\n    parse: function(data) {\r\n        // Get unique id from the recipe url\r\n        var index  = data.recipe.uri.indexOf('_') + 1;\r\n\r\n        // Use Edamam server for icon source\r\n        var prefix = 'http://www.edamam.com/http/';\r\n\r\n        // Default icon if missing\r\n        var icon = 'images/icon.png';\r\n\r\n        // Check if icon available\r\n        if(data.recipe.sourceIcon)\r\n            icon = data.recipe.sourceIcon.replace('http://', prefix);\r\n\r\n        var recipe = {};\r\n            recipe.id             = data.recipe.uri.slice(index);\r\n            recipe.recipeImage    = data.recipe.image;\r\n            recipe.recipeTitle    = data.recipe.label;\r\n            recipe.numCalories    = parseInt(data.recipe.calories / data.recipe.yield, 10);\r\n            recipe.numIngredients = data.recipe.ingredientLines.length;\r\n            recipe.siteIcon       = icon;\r\n            recipe.siteTitle      = data.recipe.source;\r\n            recipe.siteLink       = data.recipe.shareAs;\r\n        return recipe;\r\n\r\n    } // parse\r\n\r\n});","/** Model for nutrition label data\r\n * @namespace nt.Models\r\n * @class nt.Models.Nutrition\r\n * @memberof! <global>\r\n * @extends Backbone.Model */\r\nnt.Models.Nutrition = Backbone.Model.extend(/** @lends nt.Models.Nutrition# */{\r\n\r\n    /** Default attributes */\r\n    defaults: function() {\r\n        return {\r\n            width: 280,\r\n            id: '',\r\n            itemName: '',\r\n            servingCount: 1,\r\n            moreThanOne: false,\r\n\r\n            showPolyFat: false,\r\n            showMonoFat: false,\r\n            showIngredients: false,\r\n\r\n            valueServingSize: 0,\r\n            valueServingSizeUnit: '',\r\n\r\n            valueCalories: 0,\r\n            valueFatCalories: 0,\r\n            valueTotalFat: 0,\r\n            valueSatFat: 0,\r\n            valueTransFat: 0,\r\n            valueCholesterol: 0,\r\n            valueSodium: 0,\r\n            valueTotalCarb: 0,\r\n            valueFibers: 0,\r\n            valueSugars: 0,\r\n            valueProteins: 0,\r\n            valueVitaminA: 0,\r\n            valueVitaminC: 0,\r\n            valueCalcium: 0,\r\n            valueIron: 0\r\n        };\r\n    },\r\n\r\n    /** Nutritionix API /item will return an object with all nutrition data */\r\n    url: 'https://api.nutritionix.com/v1_1/item/',\r\n\r\n    /** Override parse and return response attributes */\r\n    parse: function(data) {\r\n\r\n        //  Only parse response if data from API\r\n        if (data.hasOwnProperty('item_id')) {\r\n        var label = {};\r\n            label.width                = 280;\r\n            label.id                   = data.item_id;\r\n            label.itemName             = data.item_name;\r\n            label.servingCount         = 1;\r\n            label.moreThanOne          = false;\r\n            label.showPolyFat          = false;\r\n            label.showMonoFat          = false;\r\n            label.showIngredients      = false;\r\n            label.valueServingSize     = data.nf_serving_size_qty;\r\n            label.valueServingSizeUnit = data.nf_serving_size_unit;\r\n            label.valueCalories        = data.nf_calories;\r\n            label.valueFatCalories     = data.nf_calories_from_fat;\r\n            label.valueTotalFat        = data.nf_total_fat;\r\n            label.valueSatFat          = data.nf_saturated_fat;\r\n            label.valueTransFat        = data.nf_trans_fatty_acid;\r\n            label.valueCholesterol     = data.nf_cholesterol;\r\n            label.valueSodium          = data.nf_sodium;\r\n            label.valueTotalCarb       = data.nf_total_carbohydrate;\r\n            label.valueFibers          = data.nf_dietary_fiber;\r\n            label.valueSugars          = data.nf_sugars;\r\n            label.valueProteins        = data.nf_protein;\r\n            label.valueVitaminA        = data.nf_vitamin_a_dv;\r\n            label.valueVitaminC        = data.nf_vitamin_c_dv;\r\n            label.valueCalcium         = data.nf_calcium_dv;\r\n            label.valueIron            = data.nf_iron_dv;\r\n\r\n            return label;\r\n        } else\r\n            return data;\r\n\r\n    }, // parse\r\n\r\n    /** Model validation for editable attributes */\r\n    validate: function(attrs, options) {\r\n        // Check if property exists since it is not a default attribute\r\n        if(attrs.hasOwnProperty('trackDate')) {\r\n            if (attrs.trackDate === '') {\r\n                return 'Date cannot be blank.';\r\n            }\r\n\r\n            // Use momentjs to validate date format\r\n            // http://momentjs.com/docs/#/parsing/string-format/\r\n            var valid = moment(attrs.trackDate, 'YYYY-MM-DD', true).isValid();\r\n            if(!valid) {\r\n                return 'Date must be in YYYY-MM-DD format.';\r\n            }\r\n\r\n        } // trackDate\r\n\r\n        // Make sure the name isn't blank\r\n        if (attrs.itemName === '') {\r\n            return 'Food name cannot be blank.';\r\n\r\n        } // itemName\r\n\r\n    }, // validate\r\n\r\n    /** Multiplies value attributes by number of servings */\r\n    valueUpdate: function(attributes, num) {\r\n        var keys = [\r\n            'valueCalories',\r\n            'valueFatCalories',\r\n            'valueTotalFat',\r\n            'valueSatFat',\r\n            'valueTransFat',\r\n            'valueCholesterol',\r\n            'valueSodium',\r\n            'valueTotalCarb',\r\n            'valueFibers',\r\n            'valueSugars',\r\n            'valueProteins',\r\n            'valueVitaminA',\r\n            'valueVitaminC',\r\n            'valueCalcium',\r\n            'valueIron'\r\n        ];\r\n        var newListObj = _.pick(attributes, keys);\r\n        var val = 0;\r\n        var key = '';\r\n        var newVal = 0;\r\n\r\n        for (key in newListObj) {\r\n            val = newListObj[key];\r\n\r\n            // Check if the value is not falsy (0 or null)\r\n            if(val) {\r\n                newVal = val * num;\r\n\r\n                // If not a whole number, show only 2 decimal places\r\n                if( Number.isInteger(newVal) )\r\n                    newListObj[key] = newVal;\r\n                else\r\n                    newListObj[key] = Number(newVal).toFixed(2);\r\n            }\r\n\r\n        } // for\r\n\r\n        // Update the servings-template flag\r\n        if(num > 1)\r\n            newListObj['moreThanOne'] = true;\r\n        else\r\n            newListObj['moreThanOne'] = false;\r\n\r\n        newListObj['servingCount'] = num;\r\n\r\n        // Update the values for the selected model attributes\r\n        this.set(newListObj);\r\n\r\n    } // valueUpdate\r\n\r\n});\r\n","/** Model for autocomplete search\r\n * @namespace nt.Models\r\n * @class nt.Models.Autocomplete\r\n * @memberof! <global>\r\n * @extends Backbone.Model */\r\nnt.Models.Autocomplete = Backbone.Model.extend(/** @lends nt.Models.Autocomplete# */{\r\n\r\n    /** Default attributes */\r\n    defaults: {\r\n        id: '',\r\n        text: ''\r\n    }\r\n\r\n});","/** Collection of foods searched\r\n * @namespace  nt.Collections\r\n * @class nt.Collections.FoodSearch\r\n * @memberof! <global>\r\n * @extends Backbone.Collection */\r\nnt.Collections.FoodSearch = Backbone.Collection.extend(/** @lends nt.Collections.FoodSearch# */{\r\n\r\n    /** Reference to this collection's model. */\r\n    model: nt.Models.Food,\r\n\r\n    searchPhrase: '',\r\n\r\n    /** Nutritionix API /search will return an array of matching foods */\r\n    url: function() {\r\n        return 'https://api.nutritionix.com/v1_1/search/' + this.searchPhrase;\r\n    }, // url\r\n\r\n    /** Override parse to return only \"hits\" from the response */\r\n    parse: function(response) {\r\n        return response.hits;\r\n    }, // parse\r\n\r\n    /** This generates the next order number for new items.\r\n    * @returns {number} Next order number */\r\n    nextOrder: function() {\r\n        if ( !this.length ) {\r\n            return 1;\r\n        }\r\n            return this.last().get('sortOrder') + 1;\r\n\r\n    }, // nextOrder\r\n\r\n    /**  Each food item is sorted by its original insertion order.\r\n    * @returns {number} Sort order */\r\n    comparator: function( food ) {\r\n            return food.get('sortOrder');\r\n    } // comparator\r\n\r\n});\r\n","/** Collection of recipes\r\n * @namespace  nt.Collections\r\n * @class nt.Collections.RecipeSearch\r\n * @memberof! <global>\r\n * @extends Backbone.Collection */\r\nnt.Collections.RecipeSearch = Backbone.Collection.extend(/** @lends nt.Collections.RecipeSearch# */{\r\n\r\n    /** Reference to this collection's model. */\r\n    model: nt.Models.Recipe,\r\n\r\n    /** Edamam Recipe Search API */\r\n    url: 'https://api.edamam.com/search',\r\n\r\n    /** Override sync to set \"jsonp\" option */\r\n    sync: function(method, collection, options) {\r\n        options.dataType = 'jsonp'; // cross origin workaround\r\n        return Backbone.sync(method, collection, options);\r\n\r\n    }, // sync\r\n\r\n    /** Override parse to return only \"hits\" from the response */\r\n    parse: function(response) {\r\n        return response.hits;\r\n    } // parse\r\n\r\n});\r\n","/** Collection of foods being tracked\r\n * @namespace  nt.Collections\r\n * @class nt.Collections.NutritionTracker\r\n * @memberof! <global>\r\n * @extends Backbone.Collection */\r\nnt.Collections.NutritionTracker = Backbone.Collection.extend(/** @lends nt.Collections.NutritionTracker# */{\r\n\r\n    /** Reference to this collection's model. */\r\n    model: nt.Models.Nutrition,\r\n\r\n    /** Save all of the food items in localStorage. */\r\n    localStorage: new Backbone.LocalStorage('food-tracker'),\r\n\r\n    /** Set default tracker date for today */\r\n    initialize: function() {\r\n        nt.Option.trackerDate = moment(new Date()).format('YYYY-MM-DD');\r\n        nt.Option.displayAll = false;\r\n\r\n    }, // initialize\r\n\r\n    /** Each food item is sorted by date */\r\n    comparator: function( food ) {\r\n            return food.get('trackDate');\r\n    }, // comparator\r\n\r\n    /** Returns a group of models with the same date */\r\n    getModelsByDate: function() {\r\n        // Filter the models by date\r\n        var groupArray = this.where({ trackDate: nt.Option.trackerDate });\r\n\r\n        // Convert the array back into a Collection\r\n        var groupCollection = new Backbone.Collection(groupArray);\r\n\r\n        return groupCollection;\r\n\r\n    }, // getModelsByDate\r\n\r\n    /** Returns the sum value of the attribute passed */\r\n    calculateSum: function(attribute) {\r\n        var group = this;\r\n        var sum = 0;\r\n\r\n        if(!this.length) return;\r\n\r\n        if(!nt.Option.displayAll)\r\n            group = this.getModelsByDate();\r\n\r\n        // credit: http://underscorejs.org/#reduce\r\n        sum = group.reduce(function(memo, value) {\r\n            return Number(memo) + Number(value.get(attribute) * value.get('servingCount'));\r\n         }, 0);\r\n\r\n        // If it's a whole number, don't show decimal\r\n        if(Number.isInteger(sum))\r\n            return sum;\r\n        else\r\n            return Number(sum).toFixed(2);\r\n\r\n    } // calculateSum\r\n\r\n});\r\n","/** Collection of autocomplete search suggestions\r\n * @namespace  nt.Collections\r\n * @class nt.Collections.AutocompleteSearch\r\n * @memberof! <global>\r\n * @extends Backbone.Collection */\r\nnt.Collections.AutocompleteSearch = Backbone.Collection.extend(/** @lends nt.Collections.AutocompleteSearch# */{\r\n\r\n    /** Reference to this collection's model. */\r\n    model: nt.Models.Autocomplete,\r\n\r\n    /** Nutritionix v2 API \"as you type\" suggestions */\r\n    url: 'https://api.nutritionix.com/v2/autocomplete',\r\n\r\n    /** Parameters to pass for fetch requests */\r\n    api: {\r\n        q: '',\r\n        appId: '53242d79',\r\n        appKey: '82289438a16ec7b92cdcf5ad054159c4'\r\n    },\r\n\r\n    /** Displays ajax error in the autocomplete drop menu and console */\r\n    apiError: function(collection, response) {\r\n        var errMsg = response.status + ' ' + response.statusText + ' : ' +\r\n                     'Autocomplete server request error. <br> ' +\r\n                     'Please try again.';\r\n        if(window.console) console.log(errMsg);\r\n        $('#search-suggest .dropdown-menu')\r\n            .show()\r\n            .html('<li class=\"typeahead-error\"><a>' + errMsg + '</a></li>');\r\n\r\n    }, // apiError\r\n\r\n    /** Have the collection emit a 'fetch' event */\r\n    fetch: function() {\r\n        this.trigger( 'fetch', this );\r\n        return Backbone.Model.prototype.fetch.apply( this, arguments );\r\n\r\n    } // fetch\r\n\r\n});\r\n","/** Start screen\r\n * @namespace nt.Views\r\n * @class nt.Views.Start\r\n * @memberof! <global>\r\n * @extends Backbone.View */\r\nnt.Views.Start = Backbone.View.extend(/** @lends nt.Views.Start# */{\r\n\r\n    /** element */\r\n    el: '#start-screen',\r\n\r\n    /** events hash */\r\n    events: {\r\n        'click .btn-success': 'startSearch'\r\n    },\r\n\r\n    /** Shows the start screen\r\n     * @function  showStart\r\n     * @memberof  nt.Views.Start */\r\n    showStart: function() {\r\n        this.$el.show();\r\n        $('#app').hide();\r\n\r\n    }, // showStart\r\n\r\n    /** Hides the start screen\r\n     * @function  hideStart\r\n     * @memberof  nt.Views.Start */\r\n    hideStart: function() {\r\n        this.$el.hide();\r\n        $('#app').show();\r\n\r\n    }, // hideStart\r\n\r\n    /** Updates the url and hides the start screen\r\n     * @function  startSearch\r\n     * @memberof  nt.Views.Start */\r\n    startSearch: function() {\r\n        nt.Router.Instance.goto('search');\r\n    } // startSearch\r\n\r\n});\r\n","/** Tab navigation\r\n * @namespace  nt.Views\r\n * @class nt.Views.TabNav\r\n * @memberof! <global>\r\n * @extends Backbone.View */\r\nnt.Views.TabNav = Backbone.View.extend(/** @lends nt.Views.TabNav# */{\r\n\r\n    /** Enable bootstrap tabs and equalize column heights\r\n     * @function  initialize\r\n     * @memberof  nt.Views.TabNav */\r\n    initialize: function() {\r\n        $('#app-tabs a').click(function (e) {\r\n            e.preventDefault();\r\n            $(this).tab('show');\r\n            $('.row').eqHeights({child:'.eqHeights'});\r\n        });\r\n\r\n    } // initialize\r\n\r\n});\r\n","/** Search Results View\r\n * @namespace  nt.Views\r\n * @class nt.Views.Search\r\n * @memberof! <global>\r\n * @extends Backbone.View */\r\nnt.Views.Search = Backbone.View.extend(/** @lends nt.Views.Search# */{\r\n\r\n    el: '#search-top',\r\n\r\n    itemTemplate: Handlebars.Templates.item,\r\n\r\n    events: {\r\n        'click #search-help': 'toggleHelp',\r\n        'click #search-help-text .close': 'toggleHelp',\r\n        'click #search-clear': 'clearSearch',\r\n        'submit #search-suggest': 'noSubmit'\r\n    },\r\n\r\n    /** Setup `this` context, DOM references, and listeners */\r\n    initialize: function() {\r\n        _.bindAll(this, 'searchSuccess', 'searchError');\r\n\r\n        this.$searchTop = $('#search-top');\r\n        this.$searchResults = $('#search-results');\r\n        this.$searchFood = $('#search-food');\r\n        this.$help = $('#search-help-text');\r\n        this.$dropmenu = $('#search-suggest .dropdown-menu');\r\n\r\n        // Run the search if the user selects an option from the autocomplete list\r\n        this.listenTo(nt.Plugin.Instance, 'selected', this.searchFood);\r\n\r\n    }, // initialize\r\n\r\n    /** Render results */\r\n    render: function() {\r\n        // Clear out old results\r\n        this.$searchResults.html('');\r\n\r\n        // Populate item template with the food's attributes\r\n        // credit: http://stackoverflow.com/questions/21653956\r\n        this.$searchResults.append( this.itemTemplate({ items: this.collection.toJSON() }) );\r\n\r\n        return this;\r\n\r\n    }, // render\r\n\r\n    /** Show or hide the autocomplete help text */\r\n    toggleHelp: function() {\r\n        this.$help.toggle();\r\n    }, // toggleHelp\r\n\r\n    /** Display message if no results */\r\n    renderNoResults: function() {\r\n        var val = this.$searchFood.val();\r\n        var msg = '<div class=\"alert alert-info\">Could not find any foods containing: ' + val + '</div>';\r\n        this.$searchResults.html(msg);\r\n\r\n    }, // renderNoResults\r\n\r\n    /** AJAX success callback */\r\n    searchSuccess: function(collection, response) {\r\n        if(response.total_hits === 0)\r\n            this.renderNoResults();\r\n        else\r\n            this.render();\r\n\r\n    }, // searchSuccess\r\n\r\n    /** AJAX error callback */\r\n    searchError: function(collection, errorResponse) {\r\n        var status = errorResponse.status;\r\n        var statusText = errorResponse.statusText;\r\n        var msg = '<div class=\"alert alert-danger\">Nutritionix search request failed with error: <br>' +\r\n                   status + ' : ' + statusText + '</div>';\r\n        this.$searchResults.html(msg);\r\n\r\n    }, // searchError\r\n\r\n    /** Get food from Nutritionix */\r\n    searchFood: function() {\r\n        var query = this.$searchFood.val().trim();\r\n\r\n        // Nutritionix API v.1.1 Field Reference\r\n        // https://docs.thinkingjet.me/spreadsheets/d/1jZSa039OfpQOiRzaS980nPKCvVe2TRKRPZk7ZbaH7kE/edit#gid=0\r\n        var parameters = {\r\n            'results': '0:10', // 10 items\r\n            'fields': 'item_name,' +\r\n                      'nf_calories,' +\r\n                      'nf_total_fat,' +\r\n                      'nf_total_carbohydrate,' +\r\n                      'nf_protein,' +\r\n                      'nf_serving_size_qty,' +\r\n                      'nf_serving_size_unit',\r\n            'appId': '53242d79',\r\n            'appKey': '82289438a16ec7b92cdcf5ad054159c4'\r\n        };\r\n\r\n        // Display preloader\r\n        this.$searchResults.html(nt.preloader);\r\n\r\n        if (query.length > 0) {\r\n            // Clear out all the models in the collection\r\n            this.collection.reset();\r\n\r\n            // Set the terms to be searched\r\n            this.collection.searchPhrase = query;\r\n\r\n            // Make GET request to Nutritionix\r\n            this.collection.fetch({\r\n                data: $.param(parameters),\r\n                success: this.searchSuccess,\r\n                error: this.searchError\r\n            });\r\n        } else\r\n            this.$searchResults.html('');\r\n\r\n        // Update url\r\n        nt.Router.Instance.navigate('search/' + query);\r\n\r\n    }, // searchFood\r\n\r\n    /** Prevent form submission */\r\n    noSubmit: function(e) {\r\n        e.preventDefault();\r\n    }, // noSubmit\r\n\r\n    /** Clear search and autocomplete */\r\n    clearSearch: function() {\r\n        this.$searchFood.val('');\r\n        this.$searchResults.html('');\r\n        nt.Plugin.Instance.hide();\r\n\r\n    } // clearSearch\r\n\r\n});\r\n","/** Recipe View\r\n * @namespace  nt.Views\r\n * @class nt.Views.Recipe\r\n * @memberof! <global>\r\n * @extends Backbone.View */\r\nnt.Views.Recipe = Backbone.View.extend(/** @lends nt.Views.Recipe# */{\r\n\r\n    el: '#search',\r\n\r\n    recipeTemplate: Handlebars.Templates.recipe,\r\n\r\n    events: {\r\n        'click #recipe-open': 'openRecipes',\r\n        'click #recipe-close': 'closeRecipes'\r\n    },\r\n\r\n    /** Setup `this` context and DOM references */\r\n    initialize: function() {\r\n        _.bindAll(this, 'recipeSuccess', 'recipeError');\r\n        this.$searchTop = $('#search-top');\r\n        this.$searchResults = $('#search-results');\r\n        this.$recipeTop = $('#recipe-top');\r\n        this.$recipeResults = $('#recipe-results');\r\n        this.$recipeResults.html(nt.preloader);\r\n\r\n    }, // initialize\r\n\r\n    /** Render results */\r\n    render: function() {\r\n        // Clear out old results\r\n        this.$recipeResults.html('');\r\n\r\n        // Populate recipe template with the recipe attributes\r\n        this.$recipeResults.append( this.recipeTemplate({recipes: this.collection.toJSON()}) );\r\n\r\n        return this;\r\n\r\n    }, // render\r\n\r\n    /** AJAX success callback */\r\n    recipeSuccess: function(collection, response) {\r\n        this.render();\r\n    }, // recipeSuccess\r\n\r\n    /** AJAX error callback */\r\n    recipeError: function(collection, errorResponse) {\r\n        var status = errorResponse.status;\r\n        var statusText = errorResponse.statusText;\r\n        var msg = '<div class=\"alert alert-danger\">Edamam recipe request failed with error: <br>' +\r\n                   status + ' : ' + statusText + '</div>';\r\n        this.$recipeResults.html(msg);\r\n\r\n    }, // recipeError\r\n\r\n    /** Get Edamam recipes */\r\n    getRecipes: function(q) {\r\n        // Edamam API https://thinkingjet.me/recipe-docs\r\n        var parameters = {\r\n            'q': q,\r\n            'app_id': '109142f6',\r\n            'app_key': '21467cc06c5f05e55b19271dcc457914',\r\n            'to': '5' // return 5 results\r\n        };\r\n\r\n        // Clear out all the models in the collection\r\n        this.collection.reset();\r\n\r\n        // Make JSONP request to Edamam\r\n        this.collection.fetch({\r\n            data: $.param(parameters),\r\n            success: this.recipeSuccess,\r\n            error: this.recipeError\r\n        });\r\n\r\n    }, // getRecipes\r\n\r\n    /** Hide search view and show recipe view */\r\n    openRecipes: function() {\r\n        var food = $('#search-food').val();\r\n\r\n        this.getRecipes(food);\r\n        this.$searchTop.hide();\r\n        this.$searchResults.hide();\r\n        this.$recipeTop.show();\r\n        this.$recipeResults.show();\r\n\r\n    }, // openRecipes\r\n\r\n    /** Hide recipe view and show search view */\r\n    closeRecipes: function() {\r\n        this.$recipeResults.html('');\r\n        this.$recipeTop.hide();\r\n        this.$searchTop.show();\r\n        this.$recipeResults.hide();\r\n        this.$searchResults.show();\r\n\r\n    } // closeRecipes\r\n\r\n});\r\n","/** Nutrition View\r\n * @namespace  nt.Views\r\n * @class nt.Views.Nutrition\r\n * @memberof! <global>\r\n * @extends Backbone.View */\r\nnt.Views.Nutrition = Backbone.View.extend(/** @lends nt.Views.Nutrition# */{\r\n\r\n    el: '#app',\r\n\r\n    buttonsTemplate: Handlebars.Templates.buttons,\r\n\r\n    events: {\r\n        'click .item-nutrition': 'openNutrition',\r\n        'click #nutrition-close': 'closeNutrition',\r\n        'click #nutrition-add': 'addFood',\r\n        'click #nutrition-remove': 'removeFood',\r\n        'click #nutrition-track': 'openTrackerView'\r\n    },\r\n\r\n    /** Setup `this` context, DOM refs, variables, listeners and load google chart api */\r\n    initialize: function() {\r\n        _.bindAll(this, 'itemSuccess', 'itemError');\r\n\r\n        this.$nutrition = $('#nutrition');\r\n        this.$nutritionTop = $('#nutrition-top');\r\n        this.$nutritionMenu = $('#nutrition-button-menu');\r\n        this.$nutritionResults = $('#nutrition-results');\r\n        this.$nLabel = $('#nlabel');\r\n        this.trackedItem = null;\r\n        this.gchart = null;\r\n        this.gformat = null;\r\n\r\n        // Load the Visualization API and the corechart package.\r\n        google.charts.load('current', {'packages':['corechart']});\r\n\r\n        // Close the Nutrition view when another search is run\r\n        this.listenTo(nt.Plugin.Instance, 'selected', this.closeNutrition);\r\n\r\n        // Update the Nutrition view model and tracking status when a food is saved\r\n        this.listenTo(this.model, 'foodsaved', this.updateView);\r\n\r\n    }, // initialize\r\n\r\n    /** Display the button menu, pie chart, and nutrition label */\r\n    render: function() {\r\n        // Display button menu\r\n        this.displayMenu();\r\n\r\n        // Display pie chart\r\n        this.displayChart();\r\n\r\n        // Display nutrition label\r\n        this.displayNutrition();\r\n\r\n    }, // render\r\n\r\n    /** Display the nutrition view */\r\n    showColumn: function() {\r\n        this.$nutrition.removeClass('hideColumn');\r\n    }, // showColumn\r\n\r\n    /** Hide the nutrition view */\r\n    hideColumn: function() {\r\n        this.$nutrition.addClass('hideColumn');\r\n    }, // hideColumn\r\n\r\n    /** Get the food item id and highlight it in the search view */\r\n    openNutrition: function(e) {\r\n        var elem = $(e.target);\r\n        var id   = elem.data('item');\r\n\r\n        e.preventDefault();\r\n\r\n        // Close if already open\r\n        this.closeNutrition();\r\n\r\n        // Highlight selected item\r\n        elem.closest('.item').css('background-color', '#b8dec0').addClass('highlight');\r\n\r\n        // Show second column\r\n        this.showColumn();\r\n\r\n        // Get item data from localStorage or from the API\r\n        this.checkItem(id);\r\n\r\n    }, // openNutrition\r\n\r\n    /** Check if the item selected is already in the tracker */\r\n    checkItem: function(itemId) {\r\n        // Check if this item is already being tracked\r\n        this.trackedItem = nt.Collections.tracker.get(itemId);\r\n\r\n        if(this.trackedItem) {\r\n            // Copy the data from the tracker\r\n            this.model.set( this.trackedItem.toJSON() );\r\n\r\n            // Display the item\r\n            this.itemSuccess();\r\n        } else {\r\n            // Get nutrition data from API using the item id\r\n            this.getNutrition(itemId);\r\n        }\r\n\r\n    }, // checkItem\r\n\r\n    /** Remove highlight, clear nutrition view, and hide the view */\r\n    closeNutrition: function() {\r\n        // Remove highlight from selected item\r\n        $('.highlight').removeAttr('style').removeClass('highlight');\r\n\r\n        // Clear chart and nutrition label\r\n        this.$nutritionResults.find('figure').html('');\r\n\r\n        // Hide second column\r\n        this.hideColumn();\r\n\r\n        // Restore hidden icons\r\n        $('.tracked-delete').show();\r\n\r\n    }, // closeNutrition\r\n\r\n    /** AJAX success callback */\r\n    itemSuccess: function(model, response) {\r\n        // Render the nutrition info\r\n        this.render();\r\n\r\n        // Make the Search and Nutrition columns equal heights\r\n        $('.row').eqHeights({child:'.eqHeights'});\r\n\r\n    }, // itemSuccess\r\n\r\n    /** AJAX error callback */\r\n    itemError: function(model, errorResponse) {\r\n        var status = errorResponse.status;\r\n        var statusText = errorResponse.statusText;\r\n        var msg = '<div class=\"alert alert-danger\">Nutritionix item request failed: <br>' +\r\n                   status + ' : ' + statusText + '</div>';\r\n        this.$nutritionMenu.html(msg);\r\n\r\n    }, // itemError\r\n\r\n    /** Get food item details from Nutritionix */\r\n    getNutrition: function(itemID) {\r\n        var parameters = {\r\n            'id': itemID,\r\n            'appId': '53242d79',\r\n            'appKey': '82289438a16ec7b92cdcf5ad054159c4'\r\n        };\r\n\r\n        // Display loading animation\r\n        this.$nutritionMenu.html(nt.preloader);\r\n\r\n        // Clear the model\r\n        this.model.clear();\r\n\r\n        // Make GET request to Nutritionix\r\n        this.model.fetch({\r\n            data: $.param(parameters),\r\n            success: this.itemSuccess,\r\n            error: this.itemError\r\n        });\r\n\r\n    }, // getNutrition\r\n\r\n    /** Display pie chart using fat, carbs, and protein values */\r\n    displayChart: function() {\r\n        var fat = this.model.get('valueTotalFat');\r\n        var carbs = this.model.get('valueTotalCarb');\r\n        var protein = this.model.get('valueProteins');\r\n\r\n        var data = google.visualization.arrayToDataTable([\r\n            ['Nutrient', 'Value'],\r\n            ['Fat', fat],\r\n            ['Carbs', carbs],\r\n            ['Protein', protein]\r\n        ]);\r\n\r\n        var options = {\r\n            width: 280,\r\n            height: 140,\r\n            backgroundColor: '#b8dec0',\r\n            sliceVisibilityThreshold: 0\r\n        };\r\n\r\n        var notZero = (parseFloat(fat + carbs + protein) !== 0);\r\n\r\n        // Don't draw a chart if all the values are zero\r\n        if(notZero) {\r\n            // Add 'g' for grams unit to the values\r\n            if(!this.gformat)\r\n                this.gformat = new google.visualization.NumberFormat({suffix: 'g'});\r\n\r\n            // Clear chart.\r\n            if(this.gchart) this.gchart.clearChart();\r\n\r\n            // Instantiate chart.\r\n            this.gchart = new google.visualization.PieChart(\r\n                    document.getElementById('gchart')\r\n                );\r\n\r\n            // Apply formatter to second column\r\n            this.gformat.format(data, 1);\r\n\r\n            // Draw chart.\r\n            this.gchart.draw(data, options);\r\n        }\r\n\r\n    }, // displayChart\r\n\r\n    /** Use label plugin to format and display nutritional values */\r\n    displayNutrition: function() {\r\n        // Reference Example #2\r\n        // http://dev2.nutritionix.com/html/label-jquery-plugin/demo/demo.html\r\n\r\n        // Reset the element and previous event handlers\r\n        this.$nLabel.html('');\r\n        this.$nLabel.undelegate();\r\n\r\n        // Activate Nutrition Label jQuery Plugin by Nutritionix\r\n        this.$nLabel.nutritionLabel(this.model.toJSON());\r\n\r\n    }, // displayNutrition\r\n\r\n    /** Display if food item is being tracked and button options */\r\n    displayMenu: function() {\r\n        var isTracked = false;\r\n\r\n        // Clear button menu container\r\n        this.$nutritionMenu.html('');\r\n\r\n        // Set tracking flag\r\n        if(this.trackedItem) isTracked = true;\r\n\r\n        // Add the button menu html\r\n        this.$nutritionMenu.append(this.buttonsTemplate({\r\n            tracking: isTracked\r\n        }));\r\n\r\n    }, // displayMenu\r\n\r\n    /** Open editor view for food */\r\n    addFood: function() {\r\n        // Create an editor view with the nutrition data model\r\n        var editorView = new nt.Views.Editor({model: this.model});\r\n\r\n        // Render the editor view and append its element to the nutrition view\r\n        this.$nutrition.append( editorView.render().renderDatePicker().el );\r\n\r\n    }, // addFood\r\n\r\n    /** Destroy food model from the tracker collection using the id */\r\n    removeFood: function() {\r\n        var id = this.model.get('id');\r\n        var food = nt.Collections.tracker.get(id);\r\n        food.destroy();\r\n        this.trackedItem = null;\r\n        this.displayMenu();\r\n\r\n    }, // removeFood\r\n\r\n    /** When the 'foodsaved' event occurs, update the view's model and tracker status */\r\n    updateView: function() {\r\n        var itemId = this.model.get('id');\r\n        var foodAttributes = nt.Collections.tracker.get(itemId).toJSON();\r\n        this.model.set(foodAttributes);\r\n        this.displayNutrition();\r\n        this.trackedItem = true;\r\n        this.displayMenu();\r\n\r\n    }, // updateView\r\n\r\n    /** If the item is being tracked, clicking the tracker status will open the tracker view */\r\n    openTrackerView: function() {\r\n        this.closeNutrition();\r\n        $('#tab2').trigger('click');\r\n\r\n    } // openTrackerView\r\n\r\n});\r\n","/** Tracker View\r\n * @namespace  nt.Views\r\n * @class nt.Views.Tracker\r\n * @memberof! <global>\r\n * @extends Backbone.View */\r\nnt.Views.Tracker = Backbone.View.extend(/** @lends nt.Views.Tracker# */{\r\n\r\n    el: '#tracker',\r\n\r\n    trackedTemplate: Handlebars.Templates.tracked,\r\n\r\n    emptyMessage: '<p>No foods are being tracked.</p><p>Do a search and add something!</p>',\r\n\r\n    emptyDate: '<p>There are no foods being tracked on this date.</p><p>Select another date or add a food.</p>',\r\n\r\n    events: {\r\n        'click #dtBack': 'dateBack',\r\n        'click #dtForward': 'dateForward',\r\n        'click #dtDisplay': 'dateDisplay',\r\n        'click .options a': 'setOption',\r\n        'click .tracked-delete': 'deleteFood',\r\n        'click .tracked-edit': 'openFood',\r\n    },\r\n\r\n    /** Setup Helpers, DOM ref, listener, datepicker, and fetch collection from localStorage */\r\n    initialize: function() {\r\n        _.bindAll(this, 'sumCals', 'sumFat', 'sumCarbs', 'sumProt');\r\n\r\n        Handlebars.registerHelper({\r\n          title: this.title,\r\n          sumCals: this.sumCals,\r\n          sumFat:  this.sumFat,\r\n          sumCarbs: this.sumCarbs,\r\n          sumProt: this.sumProt,\r\n          show: this.show\r\n        });\r\n\r\n        this.$trackerResults = $('#tracker-results');\r\n        this.$dtp = $('#dtPicker');\r\n        this.listenTo(this.collection, 'update', this.render);\r\n        this.duration = moment.duration({'days' : 1});\r\n        this.initDatePicker();\r\n        this.collection.fetch();\r\n\r\n    }, // initialize\r\n\r\n    /** Display date tooltip if displayAll option is true */\r\n    title: function(date) {\r\n        if(nt.Option.displayAll) return new Handlebars.SafeString('title=\"' + date + '\"');\r\n    }, // all\r\n\r\n    /** Sum of calories */\r\n    sumCals: function() {\r\n        return this.collection.calculateSum('valueCalories');\r\n    }, // sumCals\r\n\r\n    /** Sum of fats */\r\n    sumFat: function() {\r\n        return this.collection.calculateSum('valueTotalFat');\r\n    }, // sumFat\r\n\r\n    /** Sum of carbs */\r\n    sumCarbs: function() {\r\n        return this.collection.calculateSum('valueTotalCarb');\r\n    }, // sumCarbs\r\n\r\n    /** Sum of proteins */\r\n    sumProt: function() {\r\n        return this.collection.calculateSum('valueProteins');\r\n    }, // sumProt\r\n\r\n    /** Show nutrition value by number of servings */\r\n    show: function(attributeValue) {\r\n        var servings = this.attributes.servingCount;\r\n        var showValue = 0;\r\n\r\n        if(servings > 1) {\r\n            showValue = attributeValue * servings;\r\n\r\n            // If it's not a whole number, show only 2 decimal places\r\n            if(!Number.isInteger(showValue))\r\n                return Number(showValue).toFixed(2);\r\n            else\r\n                return showValue;\r\n\r\n        } // if servings > 1\r\n        else\r\n            return attributeValue;\r\n\r\n    }, // show\r\n\r\n    /** Check which render to run and update url route if in tracker view */\r\n    render: function() {\r\n        var isTracker = $('#tracker').hasClass('active');\r\n\r\n        if(nt.Option.displayAll) {\r\n            this.renderAll();\r\n            if(isTracker) nt.Router.Instance.navigate('tracker/all');\r\n        } else {\r\n            this.renderDate();\r\n            if(isTracker) nt.Router.Instance.navigate('tracker/date/' + nt.Option.trackerDate);\r\n        }\r\n\r\n    }, // render\r\n\r\n    /** Render all */\r\n    renderAll: function() {\r\n        this.$trackerResults.html('');\r\n\r\n        if(!this.collection.length)\r\n            this.$trackerResults.html( this.emptyMessage );\r\n        else\r\n            this.$trackerResults.append( this.trackedTemplate( this.collection ));\r\n\r\n        return this;\r\n\r\n    }, // renderAll\r\n\r\n    /** Render the tracker collection by date */\r\n    renderDate: function() {\r\n        // Clear previous list\r\n        this.$trackerResults.html('');\r\n\r\n        // Check if the Collection is empty\r\n        if(!this.collection.length)\r\n            this.$trackerResults.html( this.emptyMessage );\r\n         else {\r\n            var group = this.collection.getModelsByDate();\r\n\r\n            // Check if there are models for the date chosen\r\n            if(!group.length)\r\n                this.$trackerResults.html( this.emptyDate );\r\n            else\r\n                this.$trackerResults.append( this.trackedTemplate( group ));\r\n        }\r\n\r\n        return this;\r\n\r\n    }, // renderDate\r\n\r\n    /** Activate the date picker plugin */\r\n    initDatePicker: function() {\r\n        this.$dtp.datetimepicker({\r\n            format: 'MMMM D, YYYY',\r\n            defaultDate: nt.Option.trackerDate,\r\n            allowInputToggle: true\r\n        });\r\n\r\n        var self = this;\r\n        $('#dtPicker').on('dp.change', function(e) {\r\n            // Grab the current date from the date picker and set the tracker date option\r\n            nt.Option.trackerDate = $(this).data('DateTimePicker').date().format('YYYY-MM-DD');\r\n\r\n            // Re-render the view to display only models with the date selected\r\n            self.render();\r\n        });\r\n\r\n    }, // initDatePicker\r\n\r\n    /** Add a day to the current date */\r\n    dateBack: function() {\r\n        var currDate = this.$dtp.data('DateTimePicker').date();\r\n        var backDate = currDate.subtract(this.duration);\r\n        this.$dtp.data('DateTimePicker').date(backDate);\r\n\r\n    }, // dateBack\r\n\r\n    /** Subtract a day from the current date */\r\n    dateForward: function() {\r\n        var currDate = this.$dtp.data('DateTimePicker').date();\r\n        var forwardDate = currDate.add(this.duration);\r\n        this.$dtp.data('DateTimePicker').date(forwardDate);\r\n\r\n    }, // dateForward\r\n\r\n    /** Tracker display options */\r\n    dateDisplay: function() {\r\n        // Bold the current option\r\n        if(nt.Option.displayAll) {\r\n            $('#optAll').addClass('bold');\r\n            $('#optDate').removeClass('bold');\r\n        } else {\r\n            $('#optAll').removeClass('bold');\r\n            $('#optDate').addClass('bold');\r\n        }\r\n\r\n    }, // dateDisplay\r\n\r\n    /** Set tracker display option and re-render view */\r\n    setOption: function(e) {\r\n        e.preventDefault();\r\n\r\n        var id = $(e.target).attr('id');\r\n\r\n        // Show/hide the date picker and navigation\r\n        if(id === 'optDate') {\r\n            $('#dtContainer').show();\r\n            nt.Option.displayAll = false;\r\n        } else {\r\n            $('#dtContainer').hide();\r\n            nt.Option.displayAll = true;\r\n        }\r\n\r\n        // Re-render this view\r\n        this.render();\r\n\r\n    }, // setOption\r\n\r\n    /** Delete food model using id */\r\n    deleteFood: function(e) {\r\n        var id = $(e.target).data('id');\r\n        var food = this.collection.get(id);\r\n        food.destroy();\r\n\r\n    }, // deleteFood\r\n\r\n    /** Open nutrition view and style row in the tracker table */\r\n    openFood: function(e) {\r\n        var row = $(e.target).closest('.tracked-row');\r\n\r\n        // Open nutrition view\r\n        nt.Views.nutrition.openNutrition(e);\r\n\r\n        // Highlight row\r\n        row.css('background-color', '#b8dec0').addClass('highlight');\r\n\r\n        // Hide the tracker delete icons\r\n        $('.tracked-delete').hide();\r\n\r\n    } // openFood\r\n\r\n});\r\n","/** Tracker Editor View\r\n * @namespace  nt.Views\r\n * @class nt.Views.Editor\r\n * @memberof! <global>\r\n * @extends Backbone.View */\r\nnt.Views.Editor = Backbone.View.extend(/** @lends nt.Views.Editor# */{\r\n\r\n    tagName: 'div',\r\n\r\n    className: 'edit-item',\r\n\r\n    editorTemplate: Handlebars.Templates.editor,\r\n\r\n    count: 1,\r\n\r\n    events: {\r\n        'click #foodSave': 'saveFood',\r\n        'click #foodClose': 'close',\r\n        'click #servingIncrease': 'servingIncrease',\r\n        'click #servingDecrease': 'servingDecrease'\r\n    },\r\n\r\n    /** Create a new food model this view will display and listen for changes */\r\n    initialize: function() {\r\n        this.createFood().listenTo(this.food, 'change', this.updateView);\r\n    }, // initialize\r\n\r\n    /** Re-render the editor view */\r\n    updateView: function() {\r\n        var prev = $('#dateTimePicker').data('DateTimePicker').date();\r\n        $('#dateTimePicker').data('DateTimePicker').destroy();\r\n        this.render().renderDatePicker();\r\n\r\n        // If there was a date set, then set it to the previous value\r\n        if(prev)\r\n            this.$el.find('#dateTimePicker').data('DateTimePicker').date(prev);\r\n\r\n    }, // updateView\r\n\r\n    /** Render food */\r\n    render: function() {\r\n        // Populate nutrition inputs\r\n        this.$el.html(this.editorTemplate( this.food.toJSON() ));\r\n\r\n        // Enable chaining\r\n        return this;\r\n\r\n    }, // render\r\n\r\n    /** Activate the date picker plugin */\r\n    renderDatePicker: function() {\r\n        // Use this.$el since template html is inserted in the DOM later\r\n        this.$el.find('#dateTimePicker').datetimepicker({\r\n            format: 'YYYY-MM-DD',\r\n            allowInputToggle: true,\r\n            widgetPositioning: { horizontal: 'right' }\r\n        });\r\n\r\n        return this;\r\n\r\n    }, // renderDatePicker\r\n\r\n    /** Display validation error */\r\n    renderError: function(message) {\r\n        var error = '<p class=\"bs-callout bs-callout-danger alert-danger\"><i class=\"glyphicon glyphicon-exclamation-sign\"></i> ' + message + '</p>';\r\n        this.$el.find('#editor-top').append(error);\r\n\r\n    }, // renderError\r\n\r\n    /** Remove error message */\r\n    removeError: function() {\r\n        this.$el.find('.bs-callout').remove();\r\n    }, // removeError\r\n\r\n    /** Get original food attribute values from the nutrition view model */\r\n    getFoodAttributes: function() {\r\n        return this.model.toJSON();\r\n    }, // getFoodAttributes\r\n\r\n    /** Get the latest values for user editable attributes */\r\n    userAttributes: function() {\r\n        return {\r\n            trackDate:  this.$el.find('#foodTrackDate').val().trim(),\r\n            itemName: this.$el.find('#foodName').val().trim(),\r\n            servingCount: this.count,\r\n            moreThanOne: this.count > 1\r\n        };\r\n\r\n    }, // newAttributes\r\n\r\n    /** Create a new model for the Tracker and copy the nutritionView's data to it */\r\n    createFood: function() {\r\n        var attrs = this.getFoodAttributes();\r\n\r\n        // Create a new nutrition Model\r\n        this.food = new nt.Models.Nutrition();\r\n\r\n        // Add nutrition data\r\n        this.food.set( attrs );\r\n\r\n        var servings = this.food.get('servingCount');\r\n\r\n        // Check the serving count and update the values\r\n        if(servings > 1) {\r\n            this.count = servings;\r\n            this.food.valueUpdate(attrs, servings);\r\n        }\r\n\r\n        return this;\r\n\r\n    }, // createFood\r\n\r\n    /** Save the model to the collection and close the view */\r\n    saveFood: function(e) {\r\n        e.preventDefault();\r\n\r\n        this.removeError();\r\n\r\n        // Reset attribute values if serving count was changed\r\n        if(this.count > 1)\r\n            this.food.valueUpdate(this.getFoodAttributes(), 1);\r\n\r\n        var userAttr = this.userAttributes();\r\n\r\n        // Set user editable attributes\r\n        this.food.set( userAttr, {validate: true} );\r\n\r\n        var notValid = this.food.validationError;\r\n\r\n        if(notValid) {\r\n            this.renderError(notValid);\r\n        } else {\r\n            // Add and save food to tracker Collection\r\n            nt.Collections.tracker.create(this.food, {merge: true});\r\n\r\n            // Tell the Nutrition View the food was saved\r\n            this.model.trigger('foodsaved');\r\n\r\n            // Close this view\r\n            this.close();\r\n        }\r\n\r\n    }, // saveFood\r\n\r\n    /** Destroy date picker and this view */\r\n    close: function() {\r\n        $('#dateTimePicker').data('DateTimePicker').destroy();\r\n        this.remove();\r\n    }, // close\r\n\r\n    /** Increase serving amount and update values */\r\n    servingIncrease: function() {\r\n        if(this.count >= 1) this.count++;\r\n\r\n        this.food.valueUpdate(this.getFoodAttributes(), this.count);\r\n\r\n    }, // servingIncrease\r\n\r\n    /** Decrease serving amount and update values */\r\n    servingDecrease: function() {\r\n        if(this.count >= 2) this.count--;\r\n\r\n        this.food.valueUpdate(this.getFoodAttributes(), this.count);\r\n\r\n    } // servingDecrease\r\n\r\n});\r\n","/** Food Tracker Router\r\n * @namespace nt.Router\r\n * @class nt.Router\r\n * @memberof! <global>\r\n * @extends Backbone.Router */\r\n\r\n// The # tells JSDoc that the items lent to nt.Router belong to an instance of the class.\r\nnt.Router = Backbone.Router.extend(/** @lends nt.Router# */{\r\n\r\n    /** Routes for this app\r\n     * @property {object} routes\r\n     * @memberof nt.Router */\r\n    routes:{\r\n        'start': 'start',\r\n        'search': 'startSearch',\r\n        'search/:query': 'search',\r\n        'tracker/:display(/:date)': 'tracker'\r\n    },\r\n\r\n    /** Update url and call route function\r\n     * @function goto\r\n     * @memberof nt.Router */\r\n    goto: function(url) {\r\n        nt.Router.Instance.navigate(url, { trigger: true });\r\n    }, // goto\r\n\r\n    /** Display start view\r\n     * @function start\r\n     * @memberof nt.Router */\r\n    start: function() {\r\n        nt.Views.start.showStart();\r\n    }, // start\r\n\r\n    /** Display empty search view\r\n     * @function startSearch\r\n     * @memberof nt.Router */\r\n    startSearch: function() {\r\n        var isSearchOpen = $('#search').hasClass('active');\r\n        if(!isSearchOpen) $('#tab1').trigger('click');\r\n        nt.Views.start.hideStart();\r\n        nt.Views.search.$searchFood.val('');\r\n        nt.Views.search.$searchResults.html('');\r\n\r\n    }, // startSearch\r\n\r\n    /** Update search box with query, run search, then hide autocomplete\r\n     * @function search\r\n     * @memberof nt.Router */\r\n    search: function(query) {\r\n        var isSearchOpen = $('#search').hasClass('active');\r\n        if(!isSearchOpen) $('#tab1').trigger('click');\r\n        nt.Views.start.hideStart();\r\n        nt.Views.search.$searchFood.val(query);\r\n        nt.Views.search.searchFood();\r\n        nt.Plugin.Instance.hide();\r\n\r\n    }, // search\r\n\r\n    /** Set tracker view options based on url parameters\r\n     * @function tracker\r\n     * @memberof nt.Router */\r\n    tracker: function(optDisplay, optDate) {\r\n        nt.Views.start.hideStart();\r\n\r\n        // Check if the Tracker tab is active\r\n        var isTrackerOpen = $('#tracker').hasClass('active');\r\n\r\n        // Activate the tracker tab\r\n        if(!isTrackerOpen) $('#tab2').trigger('click');\r\n\r\n        if(optDisplay === 'all') {\r\n            $('#dtContainer').hide();\r\n            nt.Option.displayAll = true;\r\n            nt.Views.tracker.$dtp.data('DateTimePicker').date( moment(new Date()) );\r\n        }\r\n        else if (optDisplay === 'date' && optDate.length > 0) {\r\n            // Format the date for the date picker\r\n            var formattedDate = moment(optDate).format('MMMM D, YYYY');\r\n\r\n            // Set options based on display setting\r\n            $('#dtContainer').show();\r\n            nt.Option.displayAll = false;\r\n            nt.Option.trackerDate = optDate;\r\n\r\n            // Update the date picker's date which will trigger a re-render\r\n            nt.Views.tracker.$dtp.data('DateTimePicker').date(formattedDate);\r\n        }\r\n\r\n        // Bold the current option\r\n        nt.Views.tracker.dateDisplay();\r\n\r\n    } // tracker\r\n\r\n});\r\n","// Setup Food Tracker app when DOM is ready\r\n$(document).ready(function() {\r\n    // Instantiate the Router\r\n    nt.Router.Instance = new nt.Router();\r\n\r\n    // Instantiate Models and Collections\r\n    nt.Models.nutrition    = new nt.Models.Nutrition();\r\n    nt.Collections.suggest = new nt.Collections.AutocompleteSearch();\r\n    nt.Collections.results = new nt.Collections.FoodSearch();\r\n    nt.Collections.recipes = new nt.Collections.RecipeSearch();\r\n    nt.Collections.tracker = new nt.Collections.NutritionTracker();\r\n\r\n    // Instantiate the autocomplete plugin\r\n    nt.Plugin.Typeahead = Backbone.Typeahead.extend({ template: Handlebars.Templates.search });\r\n    nt.Plugin.Instance = new nt.Plugin.Typeahead({ collection: nt.Collections.suggest, key: 'text' });\r\n    nt.Plugin.Instance.setElement('#search-suggest').render();\r\n\r\n    // Instantiate Views\r\n    nt.Views.start     = new nt.Views.Start();\r\n    nt.Views.tabs      = new nt.Views.TabNav();\r\n    nt.Views.search    = new nt.Views.Search({ collection: nt.Collections.results });\r\n    nt.Views.recipe    = new nt.Views.Recipe({ collection: nt.Collections.recipes });\r\n    nt.Views.nutrition = new nt.Views.Nutrition({ model: nt.Models.nutrition });\r\n    nt.Views.tracker   = new nt.Views.Tracker({ collection: nt.Collections.tracker });\r\n\r\n    // Start route history and navigate to the start screen\r\n    Backbone.history.start();\r\n    nt.Router.Instance.goto('start');\r\n});\r\n\r\n"],"sourceRoot":"/source/"}